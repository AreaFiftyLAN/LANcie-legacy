<link rel="import" href="/lib/components/polymer/polymer.html">
<polymer-element name="tournament-element" attributes="data" on-tap="{{onTapTournament}}">
  
  <template>
    <link rel="stylesheet" href="/lib/styles/elements/lancie-tournament.css">
    <core-media-query query="max-width: 581px" queryMatches="{{isPhone}}"></core-media-query>

    <paper-shadow z="1"></paper-shadow>
    <div vertical layout style="display: inline-block;">
      <div class="overlay"></div>
      <div class="content {{data.type}}" flex>
        <div class="main-info" flex>
          <h3>{{data.title}}</h3>
          <span>{{data.subtitle}}</span>
        </div>
        <ul class="bg  trnsp  {{data.type}}" end style="">
          <template bind="{{data.details as d}}">
            <li>
              <span>Max participants</span> 
              <span>{{d.max_players}}</span></li>
            <li>
              <span>Platform</span>
              <span>{{d.platform}}</span></li>
            <li>
              <span>Prizes</span>
              <span>{{d.sponsors.name}}</span></li>
          </template>
        </ul>
      </div>
    </div>
    <template bind="{{data.details as d}}">
      <paper-action-dialog id="paperAction" backdrop layered="false" transition="core-transition-center" class="{{isPhone ? 'small-paper' :  'big-paper'}}">
        <div class="action-dialog-header" style="background-image: url({{data.src}});">
          <div class="overlay"></div>
          <h2 class="bg  trnsp  {{data.type}}">{{d.name}}</h2>
        </div>
        <div class="action-dialog-content" horizontal?="{{!isPhone}}" vertical?="{{isPhone}}" layout>
          <div class="main-content" flex>
            <p class="description">{{d.info}}</p>
            <table class="specs">
              <tbody>
                <tr>
                  <td>Format</td>
                  <td>{{d.format}}</td>
                </tr>
                <tr>
                  <td>Starting time</td>
                  <td>{{d.start_time}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="sponsor-content  notonmobile">
            <core-image preload fade position="left" src="{{d.sponsors.src}}"></core-image>

            <ol class="{{data.type}}" start="0">
              <li class="bg  {{data.type}}">Prizes</li>
              <template repeat="{{d.sponsors.prize}}">
                <li>{{}}</li>
              </template>
            </ol>
          </div>
        </div>
        <paper-button raised affirmative>Close</paper-button>
      </paper-action-dialog>
    </template>
  </template>

  <script src="/lib/scripts/elements/lancie-tournament.js"></script>
</polymer>