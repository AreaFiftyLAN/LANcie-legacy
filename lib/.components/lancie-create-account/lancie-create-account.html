<polymer-element name="create-account">
  <template>
    <link rel="stylesheet" href="/styles/elements/lancie-create-account.css">
    <link rel="stylesheet" href="/lib/components-font-awesome/css/font-awesome.min.css" no-shim>

    <core-ajax id="createUserAJAX" method="POST" url="https://areafiftylan.nl/api/user/" handelAs="json"></core-ajax>
    <core-ajax id="createProfileAJAX" method="POST" url="https://areafiftylan.nl/api/profile/{{userId}}" handelAs="json"></core-ajax>
    
    <h1>Ticket sales - 12/13/14 Juni 2015</h1>
    <div class="specification">
      <p>{{userhash}}</p><p>{{userId}}</p>
      Area FiftyLAN is hét nieuwe gaming event van de TU Delft. Op dit spectaculaire weekend evenement zijn alle studenten van harte welkom om hun favoriete games te komen spelen met medestudenten en vrienden. Naast het vriendschappelijk spelen van games zullen er heldhaftige toernooien plaatsvinden, waaronder in Fifa, League Of Legends en TrackMania.
    </div>

    <div class="progress-bar" vertical layout>
      <div class="progress-bar-description" horizontal layout around-justified>
        <div flex>Account</div>
        <div flex>Profile</div>
        <div flex>Payment</div>
        <div flex>Confirmation</div>
      </div>
      <paper-progress value="25" id="progress"></paper-progress>
    </div>
  
    <form action="#" method="POST" layout vertical>
      <core-animated-pages id="animatedpages" on-click="{{stuff}}" transitions="cross-fade-all">
        <section id="account">
          <lancie-input label="Username" value="{{username}}" id="username" on-blur="{{checkUsername}}"></lancie-input>
          <lancie-input label="Password" value="{{password}}" type="password" id="password" on-blur="{{checkPassword}}"></lancie-input>
          <lancie-input label="Confirm password" value="{{cpassword}}" type="password" id="cpassword" on-blur="{{checkConfirmPassword}}"></lancie-input>
          <lancie-input label="Email" value="{{email}}" id="email" on-blur="{{checkEmail}}"></lancie-input>
          
          <!-- SHINY BUTTON -->
          <div class="buttons" horizontal end-justified layout center>
            <core-label class="terms" horizontal layout>
              <paper-checkbox for id="terms"></paper-checkbox>
              <div vertical layout>I accept the terms of agreement</div>
            </core-label>
            <paper-button raised disabled?="{{!($.username.isValid && $.password.isValid && $.cpassword.isValid && $.email.isValid && $.terms.checked)}}" on-click="{{pageNext}}">go to profile</paper-button>
          </div>
        </section>
        <section id="data">
          <lancie-input label="Firstname" id="name" value="{{name}}"></lancie-input>
          <lancie-input label="Initials" id="initials" value="{{initials}}"></lancie-input>
          <lancie-input label="Surname" id="surname" value="{{surname}}"></lancie-input>
          
          <div layout horizontal center style="height: 60px;" class="selection">
            <label for="" flex two>Gender *</label>
            <div flex four horizontal layout center>
              <i center class="fa fa-male fa-2x"></i>
                <paper-toggle-button id="gender" checked="{{gender}}"></paper-toggle-button>
              <i class="fa fa-female fa-2x"></i>
            </div>
          </div>

          <div layout horizontal center>
            <label for="{{name}}" flex two>Address *</label>
            <div flex four>
              <paper-input-decorator id="decorator" name="{{name}}" label="{{label}}" value="{{value}}" error="{{error}}" 
                isInvalid="{{isEmpty || isInValid}}">
                <input is="core-input" type="{{type}}" value="{{value}}" committedValue="{{committedValue}}" required>
              </paper-input-decorator>
              
              <paper-input-decorator id="decorator" name="{{name}}" label="{{label}}" value="{{value}}" error="{{error}}" 
                isInvalid="{{isEmpty || isInValid}}">
                <input is="core-input" type="{{type}}" value="{{value}}" committedValue="{{committedValue}}" required>
              </paper-input-decorator>
            </div>
          </div>

          <!-- <lancie-input label="Address" id="address" value="{{address}}"></lancie-input> -->

          <div layout horizontal center style="height: 60px" class="selection">
            <label for="" flex two>Notes</label>
            <div flex four horizontal layout center>
              <paper-input-decorator label="Notes">
                <paper-autogrow-textarea>
                  <textarea id="notes" cols="3" value="{{notes}}" maxlength="140"></textarea>
                </paper-autogrow-textarea>
                <paper-char-counter class="counter" target="t1"></paper-char-counter>
              </paper-input-decorator>
            </div>
          </div>

          <!-- <lancie-input label="Zipcode" id="zipcode" value="{{zipcode}}"></lancie-input>
          <lancie-input label="City" id="city" value="{{city}}"></lancie-input>
          <lancie-input label="Country" id="country" value="{{country}}"></lancie-input> -->
          <lancie-input label="Phone number" id="tel" value="{{tel}}"></lancie-input>
          
          <div layout horizontal center style="height: 60px" class="selection">
            <label for="" flex two>Notes</label>
            <div flex four horizontal layout center>
              <paper-input-decorator label="Notes">
                <paper-autogrow-textarea>
                  <textarea id="notes" cols="3" value="{{notes}}" maxlength="140"></textarea>
                </paper-autogrow-textarea>
                <paper-char-counter class="counter" target="t1"></paper-char-counter>
              </paper-input-decorator>
            </div>
          </div>
      
          <!-- SHINY BUTTON -->
          <div class="buttons" horizontal justified layout>
            <paper-button raised on-click="{{pagePrev}}">BACK</paper-button>
            <paper-button raised disabled?="{{!($.name.isValid && $.initials.isValid && $.surname.isValid && $.address.isValid && $.zipcode.isValid&& $.city.isValid&& $.tel.isValid)}}" on-click="{{pageNext}} {{ajaxRequest}}">go to payment</paper-button>
          </div>
        </section>
        <section>
          <div class="payment-table">
            <div class="table-head" horizontal layout>
              <div flex four>Description</div>
              <div>Amount</div>
            </div>

            <div class="table-row" horizontal layout>
              <div flex four>
                <div>Ticket Area FiftyLAN - 12/13/14 Juni 2015 - {{chmember ? "CH Discount" : "Normal"}}</div>
                <span class="desc">{{name}} {{surname}} - {{username}} - {{email}}</span>
              </div>
              <span>€ {{chmember ? "27,50" : "30,00"}}</span>
            </div>
            <div class="table-row" horizontal layout>
              <div flex four>
                <div>Transaction cost</div>
                <span class="desc">iDeal</span>
              </div>
              <span>€ 1,00</span>
            </div>

            <div class="table-footer" horizontal layout>
              <div flex four>Total</div>
              <span>€ {{chmember ? "28,50" : "31,00"}}</span>
            </div>
          </div>

          <!-- SHINY BUTTON -->
          <div class="buttons" horizontal justified layout>
            <paper-button raised on-click="{{pagePrev}}">BACK</paper-button>
          </div>
        </section>
        <!-- <section>
          <div>4</div>
        </section> -->
      </core-animated-pages>
    </form>
  </template>

  <script src="/scripts/elements/lancie-create-account.js"></script>
</polymer-element>