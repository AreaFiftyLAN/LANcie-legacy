<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/lib/core-ajax/core-ajax.html">

<polymer-element name="sponsors-element" attributes="mode">
  
  <template>
    
    <core-ajax auto url="/json/sponsors.json" handleAs="json"></core-ajax>
    
    <template if="{{mode == 'phone'}}"> 
      <div vertical layout>
        <template repeat="{{row in sponsorsList}}">
          <template repeat="{{column in row.items}}">
            <div style="width: calc(100%);">
              <core-icon style="width: calc(100%); height: 0; padding: calc((100% - 20px) / 1.618) 0 0 0; margin-bottom: 20px;" src="{{column.src}}" sizing="contain"></core-icon>
            </div>
          </template>
        </template>
      </div>
    </template>

    <template if="{{mode == 'default'}}"> 
      <div vertical layout>
        <template repeat="{{row in sponsorsList}}">
          <div horizontal layout justified >
            <template repeat="{{column in row.items}}">
              <div style="width: calc(100% / {{row.items.length}});">
                <core-icon style="width: calc(100% - 20px); height: 0; padding: calc((100% - 20px) / 1.618) 0 0 0; margin-bottom: 20px;" src="{{column.src}}" sizing="contain"></core-icon>
              </div>
            </template> 
          </div>
        </template>
      </div>
    </template>

  </template>
  <script src="/lib/lancie-sponsors/lancie-sponsors.js"></script>
</polymer-element>