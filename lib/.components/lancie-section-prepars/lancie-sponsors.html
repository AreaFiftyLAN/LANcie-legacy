<polymer-element name="sponsors-element" attributes="mode">
  
  <template>

    <link rel="stylesheet" href="/lib/styles/elements/lancie-sponsors.css">
    
    <core-ajax id="sponsorsAJAX" auto url="/lib/scripts/json/sponsors.json" handleAs="json"></core-ajax>
    
    <h1>Sponsors</h1>
    <template if="{{mode == 'phone'}}"> 
      <div horizontal wrap layout>
        <template repeat="{{row, i in sponsorsList}}">
          <template if="{{i == 0}}">
            <span style="width: 100%;">Premium sponsors</span>
            <template repeat="{{column in row.items}}">
              <template if="{{column.name != ''}}">
                <div style="width: calc(50% - 5px);">
                  <core-icon style="width: calc(100%); height: 0; padding: calc((100% - 20px) / 1.618) 0 0 0; margin-bottom: 20px;" src="{{column.src}}" sizing="contain"></core-icon>
                </div>
              </template>
            </template>
          </template>

          <template if="{{i != 0}}">
            <template if="{{i == 1}}"><span style="width: 100%;">Sponsors</span></template>
            <template repeat="{{column in row.items}}">
              <template if="{{column.name != ''}}">
                <div style="width: 25%;">
                  <core-icon style="width: 100%; height: 0; padding: calc((100% - 20px) / 1.618) 0 0 0; margin-bottom: 20px;" src="{{column.src}}" sizing="contain"></core-icon>
                </div>
              </template>
            </template>
          </template>
        </template>
      </div>
    </template>

    <template if="{{mode == 'default'}}"> 
      <div vertical layout>
        <template repeat="{{row, i in sponsorsList}}">
          <template if="{{i == 0}}">
            Premium sponsors
          </template>
          <template if="{{i == 1}}">
            Sponsors
          </template>
          <div horizontal layout justified >
            <template repeat="{{column in row.items}}">
              <div style="width: calc(100% / {{row.items.length}});">
                <core-icon style="width: calc(100% - 20px); height: 0; padding: calc((100% - 20px) / 1.618) 0 0 0; margin-bottom: 20px;" src="{{column.src}}" sizing="contain"></core-icon>
              </div>
            </template> 
          </div>
        </template>
      </div>
    </template>

  </template>
  <script src="/lib/scripts/elements/lancie-sponsors.js"></script>
</polymer-element>