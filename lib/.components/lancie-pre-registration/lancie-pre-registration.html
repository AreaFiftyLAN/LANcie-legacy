<link rel="import" href="/lib/polymer/polymer.html">
<link rel="import" href="/lib/lancie-input/lancie-input.html">
<polymer-element name="pre-registration-element">

  <template>

    <core-media-query query="max-width: 581px" queryMatches="{{isPhone}}"></core-media-query>
    <core-media-query query="(min-width : 582px) and (max-width : 851px)"
              queryMatches="{{isTablet}}"></core-media-query>

    <core-ajax id="preregistrationAJAX" method="POST" url="https://areafiftylan.nl/api/preregister.php"
           handelAs="json" params='{"name": "{{name}}", "email": "{{email}}"}'></core-ajax>

    <paper-toast text="You have succesfully pre-registered. Thank you!" id="submitToast" duration="6000"></paper-toast>

    <div horizontal?="{{!isPhone}}" vertical?="{{isTablet}}" layout jusified>
      <div vertical layout class="main-sponsors">
        <h1>Partners</h1>

        <div vertical?="{{!isTablet && !isPhone}}" horizontal?="{{isTablet || isPhone}}" flex?="{{!isTablet && !isPhone}}" layout>
          <div vertical layout flex>
            <span>Presented by</span>
            <a href="https://ch.tudelft.nl/" target="_blank">
            <div style="width: {{isTablet || isPhone ? '100%' : '250px'}};">
              <core-icon preload fade
                     style="width: calc(100%); height: 0; padding: 120px 0 0 0;"
                     src="/images/logos/lancie/logo_CH.png" sizing="contain" postition="start"></core-icon>
            </div>
            </a>
          </div>
          <div vertical layout flex>
            <span>In cooperation with</span>
            <a href="http://sc.tudelft.nl/" target="_blank">
            <div style="width: {{isTablet || isPhone ? '100%' : '250px'}};">
              <core-icon preload fade
                     class="bottom-main-sponsor"
                     style="width: calc(100%); height: 0; padding: 120px 0 0 0;"
                     src="/images/logos/sponsors/sc_logo.png" sizing="cover" postition="bottom"></core-icon>
            </div>
            </a>
          </div>
        </div>
      </div>

      <div vertical layout flex?="{{!isTablet && !isPhone}}" class="pre-registration">
        <h1>Pre-registration</h1>
        <p>Do you want to be informed when the ticket sales start? Enter your details below and we'll keep you
          informed about the sale. We will only use your email to inform you about the ticket sale. </p>

        <form>
          <lancie-input id="name" label="Naam" value="{{name}}"></lancie-input>
          <lancie-input id="email" label="Email" value="{{email}}"></lancie-input>

          <div class="buttons" horizontal end-justified layout center>
            <paper-button raised on-click="{{submit}}">SUBMIT</paper-button>
          </div>

          <core-a11y-keys keys="enter" on-keys-pressed="{{submit}}"></core-a11y-keys>
        </form>
      </div>
    </div>

  </template>

  <script src="/lib/lancie-pre-registration/lancie-pre-registration.js"></script>
</polymer-element>