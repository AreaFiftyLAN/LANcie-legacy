<link rel="import" href="/lib/components/polymer/polymer.html">
<link rel="import" href="/lib/components/core-media-query/core-media-query.html">
<link rel="import" href="/lib/components/paper-shadow/paper-shadow.html">
<link rel="import" href="/lib/components/paper-dialog/paper-dialog.html">
<link rel="import" href="/lib/components/paper-dialog/paper-action-dialog.html">

<polymer-element name="lancie-event-element" attributes="data">
  <template>
    <link rel="stylesheet" href="lancie-event-element.css">
    <core-media-query query="max-width: 581px" queryMatches="{{xs}}"></core-media-query>
    <core-media-query query="(min-width : 582px) and (max-width : 767px)" queryMatches="{{s}}"></core-media-query>
    <core-media-query query="(min-width : 768px) and (max-width : 1031px)" queryMatches="{{m}}"></core-media-query>

    <paper-shadow z="1" animated fit></paper-shadow>
    <div class="content" vertical layout on-tap="{{openActionDialog}}">
      <div class="main" style="background-image: url({{data.src}});" horizontal layout flex>
        <div class="overlay"></div>
        <div class="content" vertical layout center-center flex>
          <h1>{{data.title}}</h1>
          <h2>{{data.subtitle}}</h2>
        </div>
      </div>
    </div>
    <template bind="{{data.details as d}}">
      <paper-action-dialog id="paperAction" backdrop layered="false" transition="core-transition-center" class="{{xs ? 'small' : ''}}">
        <div class="action-dialog-header" style="background-image: url({{data.src}});">
          <div class="overlay"></div>
          <h2>{{d.name}}</h2>
        </div>
        <div class="action-dialog-content" horizontal?="{{!isPhone}}" vertical?="{{isPhone}}" layout>
          <div class="main-content" flex>
            <p class="description">{{d.info}}</p>
          </div>
        </div>
        <paper-button raised affirmative>Close</paper-button>
      </paper-action-dialog>
    </template>
  </template>
  <script src="lancie-event-element.js"></script>
</polymer-element>